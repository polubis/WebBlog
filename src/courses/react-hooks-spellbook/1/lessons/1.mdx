---
name: Creating portals with custom usePortal hook
duration: 2
description: We will move the rendering of React components outside the root div, to avoid z-index problems.
---

<Section>
  <XL>Why?</XL>
  <M>
    Sometimes you want to render components outside <B>div</B> with{" "}
    <B>id="root"</B>. It may happen when you're working on some components that
    use <B>z-index</B> or <B>absolute/fixed/static</B> positions in css - these
    could be modals, alerts or prompts.
  </M>
  <M>
    This can be achieved by usage of <B>React.createPortal()</B>. Remember{" "}
    <B>don't repeat yourself</B>. Don't use this API everywhere and stop copying
    the logic all the time. It's a good idea to create a hook for that.
  </M>
</Section>

<Section>
  <XL>Usage</XL>
  <M>The hook created by us can be used in the following way:</M>
  <Snippet
    description="Move your components"
    linesCount={28}
    src="/snippets/courses/react-hooks-spellbook/UsePortalUsage.tsx"
  />
</Section>

<Section>
  <XL>Implementation</XL>
  <M>Check implementation below to understand the power of encapsulation.</M>
  <Snippet
    description="Play with portals"
    linesCount={29}
    src="/snippets/courses/react-hooks-spellbook/usePortal.ts"
  />
</Section>
